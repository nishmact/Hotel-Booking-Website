"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const userController_1 = __importDefault(require("../controllers/userController"));
const multer_1 = __importDefault(require("multer"));
const bookingController_1 = __importDefault(require("../controllers/bookingController"));
const paymentController_1 = __importDefault(require("../controllers/paymentController"));
const vendorController_1 = __importDefault(require("../controllers/vendorController"));
const messageController_1 = __importDefault(require("../controllers/messageController"));
const reviewController_1 = __importDefault(require("../controllers/reviewController"));
const notificationController_1 = __importDefault(require("../controllers/notificationController"));
const userAuthMiddleware_1 = __importDefault(require("../middlewares/userAuthMiddleware"));
const storage = multer_1.default.memoryStorage();
const upload = (0, multer_1.default)({ storage: storage });
const router = express_1.default.Router();
//Auth
router.post("/signup", userController_1.default.UserSignup);
router.post("/verify", userController_1.default.verifyOtp);
router.get("/logout", userController_1.default.UserLogout);
router.get("/resendOtp", userController_1.default.ResendOtp);
router.post("/login", userController_1.default.UserLogin);
router.post("/google/register", userController_1.default.googleRegister);
router.post("/google/login", userController_1.default.googleLogin);
router.get("/pwd-resendOtp", userController_1.default.PwdResendOtp);
router.post("/verify-otp", userController_1.default.VerifyOtpForPassword);
router.post("/getotp", userController_1.default.UserForgotPassword);
router.post("/reset-password", userController_1.default.ResetUserPassword);
router.get("/", userController_1.default.Home);
router.get("/user-profile/:userId", userAuthMiddleware_1.default, userController_1.default.getUser);
router.get("/search", userController_1.default.getAllhotels);
router.get("/details/:hotelId/:roomId", userController_1.default.details);
router.get("/getvendor", vendorController_1.default.getVendor);
router.post("/book-an-event", userAuthMiddleware_1.default, bookingController_1.default.bookAnEvent);
router.get("/get-bookings", userAuthMiddleware_1.default, bookingController_1.default.getBookingsByUser);
router.get("/single-booking", userAuthMiddleware_1.default, bookingController_1.default.getBookingsById);
router.put("/cancel-booking", userAuthMiddleware_1.default, bookingController_1.default.cancelBookingByUser);
router.post("/create-checkout-session", paymentController_1.default.makePayment);
router.post("/add-payment", paymentController_1.default.addPayment);
router.get("/all-transaction-details", bookingController_1.default.getRefundDetails);
router.put("/update-profile", upload.single("image"), userController_1.default.updateProfile);
router.post("/update-password", userController_1.default.updatePasswordController);
router.patch("/delete-for-everyone", messageController_1.default.deleteAMessage);
router.patch("/delete-for-me", messageController_1.default.changeViewMessage);
router.get("/getUserData", userController_1.default.getUserData);
router.patch("/toggle-read", notificationController_1.default.toggleRead);
router.get("/user-notifications", notificationController_1.default.getAllNotifications);
router.delete("/notification", notificationController_1.default.deleteNotification);
router.get("/notification-count", notificationController_1.default.getCount);
router.post("/send-message", userController_1.default.sendMessage);
router.post("/addVendorReview", reviewController_1.default.addReview);
router.get("/getReviews", userAuthMiddleware_1.default, reviewController_1.default.getReviews);
router.patch("/update-review", reviewController_1.default.updateReview);
exports.default = router;
